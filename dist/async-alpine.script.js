(()=>{function P(){return!0}function I({component:e,argument:r}){return new Promise(n=>{if(r)window.addEventListener(r,()=>n(),{once:!0});else{let a=c=>{c.detail.id===e.id&&(window.removeEventListener("async-alpine:load",a),n())};window.addEventListener("async-alpine:load",a)}})}function L(){return new Promise(e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)})}function U({argument:e}){return new Promise(r=>{if(!e)return console.log("Async Alpine: media strategy requires a media query. Treating as 'eager'"),r();let n=window.matchMedia(`(${e})`);n.matches?r():n.addEventListener("change",r,{once:!0})})}function N({component:e,argument:r}){return new Promise(n=>{let a=r||"0px 0px 0px 0px",c=new IntersectionObserver(u=>{u[0].isIntersecting&&(c.disconnect(),n())},{rootMargin:a});c.observe(e.el)})}var l={eager:P,event:I,idle:L,media:U,visible:N};async function g(e){let r=T(e.strategy);await p(e,r)}async function p(e,r){if(r.type==="expression"){if(r.operator==="&&")return Promise.all(r.parameters.map(n=>p(e,n)));if(r.operator==="||")return Promise.any(r.parameters.map(n=>p(e,n)))}return l[r.method]?l[r.method]({component:e,argument:r.argument}):!1}function T(e){let r=C(e),n=h(r);return n.type==="method"?{type:"expression",operator:"&&",parameters:[n]}:n}function C(e){let r=/\s*([()])\s*|\s*(\|\||&&|\|)\s*|\s*((?:[^()&|]+\([^()]+\))|[^()&|]+)\s*/g,n=[],a;for(;(a=r.exec(e))!==null;){let[c,u,s,o]=a;if(u!==void 0)n.push({type:"parenthesis",value:u});else if(s!==void 0)n.push({type:"operator",value:s==="|"?"&&":s});else{let d={type:"method",method:o.trim()};o.includes("(")&&(d.method=o.substring(0,o.indexOf("(")).trim(),d.argument=o.substring(o.indexOf("(")+1,o.indexOf(")"))),o.method==="immediate"&&(o.method="eager"),n.push(d)}}return n}function h(e){let r=m(e);for(;e.length>0&&(e[0].value==="&&"||e[0].value==="|"||e[0].value==="||");){let n=e.shift().value,a=m(e);r.type==="expression"&&r.operator===n?r.parameters.push(a):r={type:"expression",operator:n,parameters:[r,a]}}return r}function m(e){if(e[0].value==="("){e.shift();let r=h(e);return e[0].value===")"&&e.shift(),r}else return e.shift()}function w(e){let r="load",n=e.prefixed("load-src"),a=e.prefixed("ignore"),c={defaultStrategy:"eager"},u=!1,s={},o=0;function d(){return o++}e.asyncOptions=t=>{c={...c,...t}},e.asyncData=(t,i=!1)=>{s[t]={loaded:!1,download:i}},e.asyncUrl=(t,i)=>{!t||!i||s[t]||(s[t]={loaded:!1,download:()=>import($(i))})},e.asyncAlias=t=>{u=t};let v=t=>{t._x_async||(t._x_async="init",t._x_ignore=!0,t.setAttribute(a,""))},y=async t=>{if(t._x_async!=="init")return;t._x_async="await";let{name:i,strategy:f}=_(t);await g({name:i,strategy:f,el:t,id:t.id||d()}),await b(i),R(t),t._x_async="loaded"};y.inline=v,e.directive(r,y).before("ignore");function _(t){let i=M(t.getAttribute(e.prefixed("data"))),f=t.getAttribute(e.prefixed(r))||c.defaultStrategy,x=t.getAttribute(n);return x&&e.asyncUrl(i,x),{name:i,strategy:f}}async function b(t){if(t.startsWith("_x_async_")||(O(t),!s[t]||s[t].loaded))return;let i=await E(t);e.data(t,i),s[t].loaded=!0}async function E(t){if(!s[t])return;let i=await s[t].download(t);return typeof i=="function"?i:i[t]||i.default||Object.values(i)[0]||!1}function R(t){e.destroyTree(t),t._x_ignore=!1,t.removeAttribute(a),!t.closest(`[${a}]`)&&e.initTree(t)}function O(t){if(!(!u||s[t])){if(typeof u=="function"){e.asyncData(t,u);return}e.asyncUrl(t,u.replaceAll("[name]",t))}}}function M(e){return(e||"").split(/[({]/g)[0]||`_x_async_${this._index}`}function $(e){return new RegExp("^(?:[a-z+]+:)?//","i").test(e)?e:new URL(e,document.baseURI).href}document.addEventListener("alpine:init",()=>{Alpine.plugin(w),document.dispatchEvent(new CustomEvent("async-alpine:init"))});})();
